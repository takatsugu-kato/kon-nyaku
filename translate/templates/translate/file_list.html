{% extends "translate/base.html" %}

{% block title %}ファイルの一覧{% endblock title %}

{% block content %}
    <h4 class="mt-4 border-bottom">ファイルの一覧</h4>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.source_lang }}
        {{ form.target_lang }}
        {{ form.document }}
        <input type="hidden" name="name" value="" id="id_name">
        <button type="submit">Upload</button>
    </form>
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">ファイル名</th>
          <th scope="col">ソース</th>
          <th scope="col">ターゲット</th>
          <th scope="col">ステータス</th>
          <th scope="col">進捗</th>
          <th scope="col">作成日</th>
          <th scope="col">変更日</th>
          <th scope="col">操作</th>
        </tr>
      </thead>
      <tbody>
        {% for file in files %}
        <tr>
          <th scope="row">{{ file.id }}</th>
          <td>{{ file.name }}</td>
          <td>{{ file.source_lang }}</td>
          <td>{{ file.target_lang }}</td>
          <td>{{ file.status }}</td>
          <td>{{ file.progress }}</td>
          <td>{{ file.created_date }}</td>
          <td>{{ file.modified_date }}</td>
          <td>
            <a href="{% url 'translate:file_del' file_id=file.id %}" class="btn btn-outline-danger btn-sm">削除</a>
            <a href="{% url 'translate:file_tra' file_id=file.id %}" class="btn btn-outline-primary btn-sm">翻訳</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
{% endblock content %}
